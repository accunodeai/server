#!/bin/bash
# üå©Ô∏è AWS CloudShell Instructions for Private RDS Access
# This is what you need to do in AWS CloudShell (completely FREE)

echo "üå©Ô∏è AWS CloudShell Setup Instructions"
echo "====================================="
echo ""
echo "1Ô∏è‚É£ Go to AWS Console: https://console.aws.amazon.com"
echo "2Ô∏è‚É£ Click the CloudShell icon (>_) in the top toolbar"
echo "3Ô∏è‚É£ Wait for CloudShell to load (takes ~30 seconds)"
echo "4Ô∏è‚É£ Copy and paste these commands one by one:"
echo ""
echo "# Install PostgreSQL client"
echo "sudo yum install -y postgresql15"
echo ""
echo "# Test connection to your RDS"
echo "PGPASSWORD='AccuNode2024!SecurePass' psql -h accunode-postgres.ck36iu4u6mpj.us-east-1.rds.amazonaws.com -U accunode_admin -d postgres -p 5432 -c '\\dt'"
echo ""
echo "# List all tables"
echo "PGPASSWORD='AccuNode2024!SecurePass' psql -h accunode-postgres.ck36iu4u6mpj.us-east-1.rds.amazonaws.com -U accunode_admin -d postgres -p 5432 -c 'SELECT schemaname, tablename FROM pg_tables WHERE schemaname = '\"'\"'public'\"'\"' ORDER BY tablename;'"
echo ""
echo "# Get database info"
echo "PGPASSWORD='AccuNode2024!SecurePass' psql -h accunode-postgres.ck36iu4u6mpj.us-east-1.rds.amazonaws.com -U accunode_admin -d postgres -p 5432 -c 'SELECT current_database(), current_user, version();'"
echo ""
echo "# Connect interactively to run SQL commands"
echo "PGPASSWORD='AccuNode2024!SecurePass' psql -h accunode-postgres.ck36iu4u6mpj.us-east-1.rds.amazonaws.com -U accunode_admin -d postgres -p 5432"
echo ""
echo "üí° CloudShell is completely FREE and can access your private RDS!"
echo "   It runs inside AWS so it has network access to your VPC."
